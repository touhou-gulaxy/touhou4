special_project = {
    icon = "gfx/interface/icons/situation_log/situation_log_main_quest.dds"
    picture = GFX_evt_kamikakushi
    key = spth_research_moon_barrier
    desc = {
        text = spth_research_moon_barrier_desc_1
        trigger = { owner = { has_country_flag = spth_repair_moon_barrier } }
    }
    desc = {
        text = spth_research_moon_barrier_desc_2
        trigger = { owner = { has_country_flag = spth_break_moon_barrier } }
    }
    cost = 0
    days_to_research = 90
    tech_department = society_technology
    requirements = {
        shipclass_science_ship = 1
        leader = scientist
        skill >= 6
    }
    sound = yes
    location = yes
    event_scope = ship_event
    on_progress_50 = {

    }
    on_success = {
        owner = {
            random_list = {
                25 = { change_variable = { which = spth_research_moon_barrier_var value = 16 } }
                25 = { change_variable = { which = spth_research_moon_barrier_var value = 20 } }
                25 = { change_variable = { which = spth_research_moon_barrier_var value = 24 } }
                15 = { change_variable = { which = spth_research_moon_barrier_var value = 32 } }
                10 = { change_variable = { which = spth_research_moon_barrier_var value = 40 } }
                5 = { change_variable = { which = spth_research_moon_barrier_var value = 48 } }
            }
            if = {
                limit = {
                    check_variable = { which = spth_research_moon_barrier_var value > 160 }
                }
                set_variable = { which = spth_research_moon_barrier_var value = 160 }
            }
            root = {
                fire_on_action = {
                    on_action = spth_on_special_project_completed
                    scopes = { from = event_target:spth_story_sol_system_lunar_capital }
                }
            }
        }
    }
    on_cancel = {

    }
}
special_project = {
    icon = "gfx/interface/icons/situation_log/situation_log_society.dds"
    # 记得换图
    picture = GFX_evt_astral_rift_tropical_habitat_2
    key = spth_disable_habitat_shield_0
    cost = 0
    days_to_research = 24
    tech_department = society_technology
    requirements = {
        shipclass_science_ship = 2
        leader = scientist
    }
    sound = yes
    location = yes
    event_scope = ship_event
    on_success = {
        root.owner = {
            enable_special_project = {
                name = spth_disable_habitat_shield_1
                location = event_target:spth_story_sol_system_torifune
            }
        }
    }
}
special_project = {
    icon = "gfx/interface/icons/situation_log/situation_log_physics.dds"
    # 记得换图
    picture = GFX_evt_astral_rift_tropical_habitat_2
    key = spth_disable_habitat_shield_1
    cost = 64000
    tech_department = physics_technology
    sound = yes
    location = yes
    event_scope = planet_event
    on_start = {

    }
    on_progress_50 = {

    }
    on_success = {

    }
}
special_project = {
    icon = "gfx/interface/icons/situation_log/situation_log_engineering.dds"
    # 记得换图
    picture = GFX_evt_astral_rift_tropical_habitat
    key = spth_disable_habitat_shield_2
    cost = 0
    days_to_research = 32
    tech_department = society_technology
    requirements = {
        shipclass_constructor = 1
    }
    sound = yes
    location = yes
    event_scope = ship_event
    on_success = {

    }
}
