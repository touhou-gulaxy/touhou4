# 用来生成领袖以及管理领袖

################
# 生成特殊领袖的通用函数
################

# country scope
spth_effect_leader_init_spawner_default_effect = { # 通常配置，省去了一些大部分人都一样的变量
    # $ID$ : [string]
    # $CLASS$ : [commander/official/scientist]
    
    # $GENDER$ : optional, default female
    # $AGE$ : optional, default 20
    # $HIDE_AGE$ : optional, default yes
    # $SKILL$ : optional, default 5
    
    
    if = {
        limit = { has_country_flag = th_$ID$_get }
        break = yes
    }
	create_leader = {
		class = $CLASS$
		species = event_target:spth_container_species
		name = NAME_$ID$
        custom_description = "" # 暂时空着
        gender = $GENDER|female$
		skill = 1
        set_age = $AGE|20$
		immortal = yes
		hide_age = $HIDE_AGE|yes$
        randomize_traits = no
		event_leader = no # Leader is allowed to lead factions and win elections
		skip_background_generation = yes
        
		traits = {
			trait = leader_trait_$ID$
		}
        effect = {
            freeze_leader_age = yes
            set_leader_flag = legendary_leader
			add_skill_without_trait_selection = @\[ $SKILL|5$ - 1 ]
            set_leader_flag = flag_$ID$
            set_leader_flag = spth_sp_leader
            change_leader_portrait = spth_por_$ID$
        }
	}
    set_country_flag = th_$ID$_get
}




################
# 生成特定领袖
################

# country scope
spth_effect_init_meirin_effect = { # 1 - 红美铃 - 陆军将领
    spth_effect_leader_init_spawner_default_effect = {
        ID = meirin
        CLASS = commander
    }
    change_variable = {
        which = spth_card_current_leader
        value = 1
    }
}

# country scope
spth_effect_init_koakuma_effect = { # 2 - 小恶魔 - 科学家
    spth_effect_leader_init_spawner_default_effect = {
        ID = koakuma
        CLASS = scientist
    }
    change_variable = {
        which = spth_card_current_leader
        value = 1
    }
}

# country scope
spth_effect_init_patchouli_effect = { # 3 - 帕秋莉 - 科学家
    spth_effect_leader_init_spawner_default_effect = {
        ID = patchouli
        CLASS = scientist
    }
    change_variable = {
        which = spth_card_current_leader
        value = 1
    }
}

# country scope
spth_effect_init_sakuya_effect = { # 4 - 咲夜 - 总督
    spth_effect_leader_init_spawner_default_effect = {
        ID = sakuya
        CLASS = official
        AGE = 16
        HIDE_AGE = no
    }
    change_variable = {
        which = spth_card_current_leader
        value = 1
    }
}

# country scope
spth_effect_init_flandre_effect = { # 5 - 芙兰朵露 - 舰队司令
    spth_effect_leader_init_spawner_default_effect = {
        ID = flandre
        CLASS = commander
        AGE = 495
        HIDE_AGE = no
    }
    change_variable = {
        which = spth_card_current_leader
        value = 1
    }
}

# country scope
spth_effect_init_letty_effect = { # 6 - 蕾蒂 - 陆军将领
    spth_effect_leader_init_spawner_default_effect = {
        ID = letty
        CLASS = commander
    }
    change_variable = {
        which = spth_card_current_leader
        value = 1
    }
}

# country scope
spth_effect_init_youmu_effect = { # 7 - 妖梦 - 舰队司令
    spth_effect_leader_init_spawner_default_effect = {
        ID = youmu
        CLASS = commander
    }
    change_variable = {
        which = spth_card_current_leader
        value = 1
    }
}

# country scope
spth_effect_init_youki_effect = { # 8 - 妖忌 - 总督
    spth_effect_leader_init_spawner_default_effect = {
        ID = youki
        CLASS = official
        GENDER = male
    }
    change_variable = {
        which = spth_card_current_leader
        value = 1
    }
}

# country scope
spth_effect_init_chen_effect = { # 9 - 橙 - 科学家
    spth_effect_leader_init_spawner_default_effect = {
        ID = chen
        CLASS = scientist
        AGE = 12
    }
    change_variable = {
        which = spth_card_current_leader
        value = 1
    }
}

# country scope
spth_effect_init_ran_effect = { # 10 - 蓝 - 总督
    spth_effect_leader_init_spawner_default_effect = {
        ID = ran
        CLASS = official
    }
    change_variable = {
        which = spth_card_current_leader
        value = 1
    }
}

# country scope
spth_effect_init_yukari_effect = { # 11 - 紫 - 舰队司令
    spth_effect_leader_init_spawner_default_effect = {
        ID = yukari
        CLASS = commander
        AGE = 17 # 紫妹永远17岁！
        HIDE_AGE = no
    }
    change_variable = {
        which = spth_card_current_leader
        value = 1
    }
}

# country scope
spth_effect_init_nitori_effect = { # 12 - 荷取 - 科学家
    spth_effect_leader_init_spawner_default_effect = {
        ID = nitori
        CLASS = scientist
    }
    change_variable = {
        which = spth_card_current_leader
        value = 1
    }
}

# country scope
spth_effect_init_momiji_effect = { # 13 - 椛 - 陆军将领
    spth_effect_leader_init_spawner_default_effect = {
        ID = momiji
        CLASS = commander
    }
    change_variable = {
        which = spth_card_current_leader
        value = 1
    }
}

# country scope
spth_effect_init_aya_effect = { # 14 - 文 - 总督
    spth_effect_leader_init_spawner_default_effect = {
        ID = aya
        CLASS = official
    }
    last_created_leader = {
        add_trait_no_notify = leader_trait_tgjz
    }
    change_variable = {
        which = spth_card_current_leader
        value = 1
    }
}

# country scope
spth_effect_init_hatate_effect = { # 15 - 果 - 总督
    spth_effect_leader_init_spawner_default_effect = {
        ID = hatate
        CLASS = official
    }
    last_created_leader = {
        add_trait_no_notify = leader_trait_tgjz
    }
    change_variable = {
        which = spth_card_current_leader
        value = 1
    }
}

# country scope
spth_effect_init_kanako_effect = { # 16 - 神奈子 - 舰队司令
    spth_effect_leader_init_spawner_default_effect = {
        ID = kanako
        CLASS = commander
    }
    last_created_leader = {
        add_trait_no_notify = leader_trait_junshen
    }
    change_variable = {
        which = spth_card_current_leader
        value = 1
    }
}

# country scope
spth_effect_init_suwako_effect = { # 17 - 诹访子 - 舰队司令
    spth_effect_leader_init_spawner_default_effect = {
        ID = suwako
        CLASS = commander
    }
    last_created_leader = {
        add_trait_no_notify = leader_trait_junshen
    }
    change_variable = {
        which = spth_card_current_leader
        value = 1
    }
}

# country scope
spth_effect_init_yuugi_effect = { # 18 - 勇仪 - 陆军将领
    spth_effect_leader_init_spawner_default_effect = {
        ID = yuugi
        CLASS = commander
    }
    change_variable = {
        which = spth_card_current_leader
        value = 1
    }
}

# country scope
spth_effect_init_parsee_effect = { # 19 - 帕露西 - 总督
    spth_effect_leader_init_spawner_default_effect = {
        ID = parsee
        CLASS = official
    }
    change_variable = {
        which = spth_card_current_leader
        value = 1
    }
}

# country scope
spth_effect_init_rin_effect = { # 20 - 燐 - 科学家
    spth_effect_leader_init_spawner_default_effect = {
        ID = rin
        CLASS = scientist
    }
    change_variable = {
        which = spth_card_current_leader
        value = 1
    }
}

# country scope
spth_effect_init_utsuho_effect = { # 21 - 空 - 舰队司令
    spth_effect_leader_init_spawner_default_effect = {
        ID = utsuho
        CLASS = commander
    }
    change_variable = {
        which = spth_card_current_leader
        value = 1
    }
}

# country scope
spth_effect_init_koishi_effect = { # 22 - 恋 - 舰队司令
    spth_effect_leader_init_spawner_default_effect = {
        ID = koishi
        CLASS = commander
    }
    change_variable = {
        which = spth_card_current_leader
        value = 1
    }
}

# country scope
spth_effect_init_akyuu_effect = { # 23 - 阿求 - 科学家
    spth_effect_leader_init_spawner_default_effect = {
        ID = akyuu
        CLASS = scientist
        AGE = 30
        HIDE_AGE = no
    }
    last_created_leader = {
        add_trait_no_notify = leader_trait_chosen
    }
    change_variable = {
        which = spth_card_current_leader
        value = 1
    }
}

# country scope
spth_effect_init_keine_effect = { # 24 - 慧音 - 总督
    spth_effect_leader_init_spawner_default_effect = {
        ID = keine
        CLASS = official
    }
    change_variable = {
        which = spth_card_current_leader
        value = 1
    }
}

# country scope
spth_effect_init_marisa_effect = { # 25 - 魔理沙 - 舰队司令
    spth_effect_leader_init_spawner_default_effect = {
        ID = marisa
        CLASS = commander
    }
    change_variable = {
        which = spth_card_current_leader
        value = 1
    }
}

# country scope
spth_effect_init_kasen_effect = { # 26 - 华扇 - 舰队司令
    spth_effect_leader_init_spawner_default_effect = {
        ID = kasen
        CLASS = commander
    }
    change_variable = {
        which = spth_card_current_leader
        value = 1
    }
}

# country scope
spth_effect_init_suika_effect = { # 27 - 萃香 - 陆军将领
    spth_effect_leader_init_spawner_default_effect = {
        ID = suika
        CLASS = commander
    }
    change_variable = {
        which = spth_card_current_leader
        value = 1
    }
}

##########
# 开局领导人
##########
spth_effect_init_remilia_effect = { # 领导人 - 蕾米 - 总督
    spth_effect_leader_init_spawner_default_effect = {
        ID = remilia
        CLASS = official
    }
    assign_leader = last_created_leader
    last_created_leader = {
        add_trait_no_notify = leader_trait_ruler_chosen
    }
}

spth_effect_init_yuyuko_effect = { # 领导人 - 幽幽子 - 总督
    spth_effect_leader_init_spawner_default_effect = {
        ID = yuyuko
        CLASS = official
    }
    assign_leader = last_created_leader
    last_created_leader = {
        add_trait_no_notify = leader_trait_yuyuko1
        add_trait_no_notify = trait_ruler_charismatic
    }
}

spth_effect_init_sanae_effect = { # 领导人 - 早苗 - 总督
    spth_effect_leader_init_spawner_default_effect = {
        ID = sanae
        CLASS = official
    }
    assign_leader = last_created_leader
    last_created_leader = {
        add_trait_no_notify = trait_ruler_charismatic
        add_trait_no_notify = leader_trait_xrs
        add_trait_no_notify = leader_trait_ruler_chosen
    }
}

spth_effect_init_satori_effect = { # 领导人 - 觉 - 总督
    spth_effect_leader_init_spawner_default_effect = {
        ID = satori
        CLASS = official
    }
    assign_leader = last_created_leader
    last_created_leader = {
        add_trait_no_notify = leader_trait_dld
        add_trait_no_notify = trait_ruler_eye_for_talent
    }
}

spth_effect_init_reimu_effect = { # 领导人 - 灵梦 - 总督
    spth_effect_leader_init_spawner_default_effect = {
        ID = reimu
        CLASS = official
    }
    assign_leader = last_created_leader
    last_created_leader = {
        add_trait_no_notify = leader_trait_boli
        add_trait_no_notify = leader_trait_ruler_chosen
    }
}



##########
# 战斗吧小恶魔
##########
# country scope
spth_effect_init_fight_koakuma_effect = { # 2 - 战斗小恶魔 - 舰队司令
    spth_effect_leader_init_spawner_default_effect = {
        ID = fight_koakuma
        CLASS = commander
        SKILL = 1
    }
    last_created_leader = {
        add_trait_no_notify = leader_trait_th_czrz
    }
    change_variable = {
        which = spth_card_current_leader
        value = 1
    }
}