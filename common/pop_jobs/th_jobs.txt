reimu = {
	category = ruler
	condition_string = RULER_JOB_TRIGGER
	building_icon = building_bl
	clothes_texture_index = 1
	possible_pre_triggers = {
		has_owner = yes
	}
	possible_precalc = can_fill_ruler_job
	possible = {
		pop_group_has_trait = trait_touhou
	}
	country_modifier = {
		country_admin_cap_add = 100
	}
	resources = {
		category = planet_priests
		produces = {
			sr_lingli = 1
			society_research = 30
		}
		produces = {
			trigger = {
				planet = {
					spth_is_gensokyo_city = yes
				}
			}
			sr_lingli = 1
			society_research = 30
		}
		produces = {
			trigger = {
				owner = {
					has_valid_civic = civic_gensokyo
				}
			}
			unity = 2
			physics_research = 5
			engineering_research = 5
			society_research = 5
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_toho4
				}
			}
			unity = 1
			physics_research = 10
			engineering_research = 10
			society_research = 10
			energy = 28
			minerals = 18
			food = 14
		}
		upkeep = {
			food = 5
			consumer_goods = 3
		}
	}
	planet_modifier = {
		planet_crime_add = -1000
	}
	weight = {
		weight = @ruler_job_weight
		modifier = {
			factor = 0.1
			has_citizenship_rights = no
			NOT = {
				pop_group_has_trait = trait_mechanical
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				pop_group_has_trait = trait_robot_domestic_protocols
				pop_group_has_trait = trait_charismatic
			}
		}
		modifier = {
			factor = 0.5
			pop_group_has_trait = trait_repugnant
		}
		modifier = {
			factor = 1.25
			OR = {
				pop_group_has_trait = trait_robot_propaganda_machines
				pop_group_has_trait = trait_traditional
			}
		}
		modifier = {
			factor = 0.75
			pop_group_has_trait = trait_quarrelsome
		}
		modifier = {
			factor = 5
			has_job = reimu
		}
		modifier = {
			factor = 1.25
			pop_group_has_trait = trait_brainslug
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_presapient_natural_intellectuals
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_robust
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_necrophage
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_planet_class = pc_habitat
			}
		}
		modifier = {
			factor = 0.85
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_artificial = no
			}
		}
		# crisis purge
		modifier = {
			factor = 0.01
			exists = planet
			exists = planet.controller
			planet.controller = {
				OR = {
					is_country_type = swarm
					is_country_type = ai_empire
				}
			}
		}
	}
}

fbreimu = {
	category = ruler
	condition_string = RULER_JOB_TRIGGER
	building_icon = building_bl
	clothes_texture_index = 1
	possible_pre_triggers = {
		has_owner = yes
	}
	possible_precalc = can_fill_ruler_job
	possible = {
		pop_group_has_trait = trait_touhou
	}
	resources = {
		category = planet_priests
		produces = {
			sr_lingli = 1
			society_research = 25
		}
		produces = {
			trigger = {
				planet = {
					spth_is_gensokyo_city = yes
				}
			}
			sr_lingli = 1
			society_research = 25
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_mu_1
						has_modifier = th_planet_xzzs_1
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			food = 5
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_mu_2
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			society_research = 10
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_shui_1
						has_modifier = th_planet_xzzs_1
					}
					NAND = {
						has_modifier = th_planet_xzzs_1
						has_modifier = th_planet_shui_2
					}
				}
			}
			unity = 2
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_shui_2
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			unity = 5
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_huo_1
						has_modifier = th_planet_xzzs_1
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			alloys = 4
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_tu_1
						has_modifier = th_planet_xzzs_1
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			minerals = 5
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_tu_2
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			engineering_research = 10
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_ri_1
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			energy = 14
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_yue_1
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			physics_research = 10
		}
		upkeep = {
			food = 5
			consumer_goods = 3
		}
	}
	planet_modifier = {
		planet_crime_add = -500
	}
	weight = {
		weight = @ruler_job_weight
		modifier = {
			factor = 0.1
			has_citizenship_rights = no
			NOT = {
				pop_group_has_trait = trait_mechanical
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				pop_group_has_trait = trait_robot_domestic_protocols
				pop_group_has_trait = trait_charismatic
			}
		}
		modifier = {
			factor = 0.5
			pop_group_has_trait = trait_repugnant
		}
		modifier = {
			factor = 1.25
			OR = {
				pop_group_has_trait = trait_robot_propaganda_machines
				pop_group_has_trait = trait_traditional
			}
		}
		modifier = {
			factor = 0.75
			pop_group_has_trait = trait_quarrelsome
		}
		modifier = {
			factor = 5
			has_job = fbreimu
		}
		modifier = {
			factor = 1.25
			pop_group_has_trait = trait_brainslug
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_presapient_natural_intellectuals
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_robust
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_necrophage
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_planet_class = pc_habitat
			}
		}
		modifier = {
			factor = 0.85
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_artificial = no
			}
		}
		# crisis purge
		modifier = {
			factor = 0.01
			exists = planet
			exists = planet.controller
			planet.controller = {
				OR = {
					is_country_type = swarm
					is_country_type = ai_empire
				}
			}
		}
	}
}

sanae = {
	category = ruler
	condition_string = RULER_JOB_TRIGGER
	building_icon = building_suwa
	clothes_texture_index = 1
	possible_pre_triggers = {
		has_owner = yes
	}
	possible_precalc = can_fill_ruler_job
	possible = {
		pop_group_has_trait = trait_touhou
	}
	resources = {
		category = planet_researchers
		produces = {
			physics_research = 30
			engineering_research = 30
			sr_fuka = 2
		}
		produces = {
			trigger = {
				planet = {
					spth_is_gensokyo_city = yes
				}
			}
			physics_research = 30
			engineering_research = 30
			sr_fuka = 2
		}
		produces = {
			trigger = {
				owner = {
					has_valid_civic = civic_gensokyo
				}
			}
			unity = 0.5
			physics_research = 5
			engineering_research = 5
			society_research = 5
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_toho4
				}
			}
			unity = 1
			physics_research = 10
			engineering_research = 10
			society_research = 10
			energy = 28
			minerals = 28
			food = 14
		}
		upkeep = {
			alloys = 4
			consumer_goods = 5
		}
	}
	planet_modifier = {
		planet_amenities_add = 10
	}
	weight = {
		weight = @ruler_job_weight
		modifier = {
			factor = 0.1
			has_citizenship_rights = no
			NOT = {
				pop_group_has_trait = trait_mechanical
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				pop_group_has_trait = trait_robot_domestic_protocols
				pop_group_has_trait = trait_charismatic
			}
		}
		modifier = {
			factor = 0.5
			pop_group_has_trait = trait_repugnant
		}
		modifier = {
			factor = 1.25
			OR = {
				pop_group_has_trait = trait_robot_propaganda_machines
				pop_group_has_trait = trait_traditional
			}
		}
		modifier = {
			factor = 0.75
			pop_group_has_trait = trait_quarrelsome
		}
		modifier = {
			factor = 5
			has_job = sanae
		}
		modifier = {
			factor = 1.25
			pop_group_has_trait = trait_brainslug
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_presapient_natural_intellectuals
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_robust
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_necrophage
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_planet_class = pc_habitat
			}
		}
		modifier = {
			factor = 0.85
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_artificial = no
			}
		}
		# crisis purge
		modifier = {
			factor = 0.01
			exists = planet
			exists = planet.controller
			planet.controller = {
				OR = {
					is_country_type = swarm
					is_country_type = ai_empire
				}
			}
		}
	}
}

fbsanae = {
	category = ruler
	condition_string = RULER_JOB_TRIGGER
	building_icon = building_suwa
	clothes_texture_index = 1
	possible_pre_triggers = {
		has_owner = yes
	}
	possible_precalc = can_fill_ruler_job
	possible = {
		pop_group_has_trait = trait_touhou
	}
	resources = {
		category = planet_researchers
		produces = {
			physics_research = 25
			engineering_research = 25
			sr_lingli = 1
			sr_fuka = 4
		}
		produces = {
			trigger = {
				planet = {
					spth_is_gensokyo_city = yes
				}
			}
			physics_research = 25
			engineering_research = 25
			sr_lingli = 1
			sr_fuka = 4
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_mu_1
						has_modifier = th_planet_xzzs_1
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			food = 5
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_mu_2
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			society_research = 10
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_shui_1
						has_modifier = th_planet_xzzs_1
					}
					NAND = {
						has_modifier = th_planet_xzzs_1
						has_modifier = th_planet_shui_2
					}
				}
			}
			unity = 2
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_shui_2
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			unity = 5
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_huo_1
						has_modifier = th_planet_xzzs_1
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			alloys = 4
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_tu_1
						has_modifier = th_planet_xzzs_1
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			minerals = 5
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_tu_2
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			engineering_research = 10
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_ri_1
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			energy = 14
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_yue_1
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			physics_research = 10
		}
		upkeep = {
			alloys = 3
		}
	}
	planet_modifier = {
		planet_amenities_add = 10
	}
	weight = {
		weight = @ruler_job_weight
		modifier = {
			factor = 0.1
			has_citizenship_rights = no
			NOT = {
				pop_group_has_trait = trait_mechanical
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				pop_group_has_trait = trait_robot_domestic_protocols
				pop_group_has_trait = trait_charismatic
			}
		}
		modifier = {
			factor = 0.5
			pop_group_has_trait = trait_repugnant
		}
		modifier = {
			factor = 1.25
			OR = {
				pop_group_has_trait = trait_robot_propaganda_machines
				pop_group_has_trait = trait_traditional
			}
		}
		modifier = {
			factor = 0.75
			pop_group_has_trait = trait_quarrelsome
		}
		modifier = {
			factor = 5
			has_job = fbsanae
		}
		modifier = {
			factor = 1.25
			pop_group_has_trait = trait_brainslug
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_presapient_natural_intellectuals
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_robust
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_necrophage
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_planet_class = pc_habitat
			}
		}
		modifier = {
			factor = 0.85
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_artificial = no
			}
		}
		# crisis purge
		modifier = {
			factor = 0.01
			exists = planet
			exists = planet.controller
			planet.controller = {
				OR = {
					is_country_type = swarm
					is_country_type = ai_empire
				}
			}
		}
	}
}

maid = {
	category = worker
	condition_string = WORKER_JOB_TRIGGER
	building_icon = building_hmg
	clothes_texture_index = 2
	possible_pre_triggers = {
		has_owner = yes
	}
	possible_precalc = can_fill_worker_job
	possible = {
		pop_group_has_trait = trait_touhou
	}
	country_modifier = {
		country_naval_cap_add = 50
	}
	resources = {
		category = planet_researchers
		produces = {
			consumer_goods = 7
			alloys = 4
		}
		produces = {
			trigger = {
				planet = {
					spth_is_gensokyo_city = yes
				}
			}
			consumer_goods = 7
			alloys = 4
		}
		produces = {
			trigger = {
				owner = {
					has_technology = "tech_worker_0"
				}
			}
			energy = 6
			minerals = 6
			food = 6
		}
		produces = {
			trigger = {
				owner = {
					has_valid_civic = civic_gensokyo
				}
			}
			unity = 0.5
			physics_research = 5
			engineering_research = 5
			society_research = 5
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_toho4
				}
			}
			unity = 1
			physics_research = 10
			engineering_research = 10
			society_research = 10
			energy = 28
			minerals = 28
			food = 14
		}
	}
	planet_modifier = {
		planet_amenities_add = 5
	}
	weight = {
		weight = 10
		modifier = {
			factor = 10
			is_enslaved = yes
			can_take_servant_job = no
		}
		# crisis purge
		modifier = {
			factor = 0.01
			planet.controller = {
				OR = {
					is_country_type = swarm
					is_country_type = ai_empire
				}
			}
		}
	}
}

fbmaid = {
	category = worker
	condition_string = WORKER_JOB_TRIGGER
	building_icon = building_hmg
	clothes_texture_index = 2
	possible_precalc = can_fill_worker_job
	possible_pre_triggers = {
		has_owner = yes
	}
	possible = {
		pop_group_has_trait = trait_touhou
	}
	country_modifier = {
		country_naval_cap_add = 80
	}
	resources = {
		category = planet_researchers
		produces = {
			alloys = 7
			consumer_goods = 4
			physics_research = 0.5
			engineering_research = 0.5
			society_research = 0.5
			sr_fuka = 0.2
		}
		produces = {
			trigger = {
				planet = {
					spth_is_gensokyo_city = yes
				}
			}
			alloys = 7
			consumer_goods = 4
			physics_research = 0.5
			engineering_research = 0.5
			society_research = 0.5
		}
		produces = {
			trigger = {
				owner = {
					has_technology = "tech_worker_0"
				}
			}
			energy = 4
			minerals = 4
			food = 4
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_mu_1
						has_modifier = th_planet_xzzs_1
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			food = 5
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_mu_2
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			society_research = 10
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_shui_1
						has_modifier = th_planet_xzzs_1
					}
					NAND = {
						has_modifier = th_planet_xzzs_1
						has_modifier = th_planet_shui_2
					}
				}
			}
			unity = 2
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_shui_2
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			unity = 5
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_huo_1
						has_modifier = th_planet_xzzs_1
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			alloys = 4
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_tu_1
						has_modifier = th_planet_xzzs_1
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			minerals = 5
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_tu_2
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			engineering_research = 10
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_ri_1
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			energy = 14
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_yue_1
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			physics_research = 10
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_hm2
				}
			}
			alloys = 1
			consumer_goods = 1
			unity = 0.6
			physics_research = 0.25
			engineering_research = 0.25
			society_research = 0.25
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_hm3
				}
			}
			alloys = 1
			consumer_goods = 1
			unity = 0.6
			physics_research = 0.25
			engineering_research = 0.25
			society_research = 2.5
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_hm4
				}
			}
			alloys = 2
			consumer_goods = 2
			unity = 1
			physics_research = 0.5
			engineering_research = 0.5
			society_research = 0.5
		}
	}
	planet_modifier = {
		planet_amenities_add = 5
	}
	weight = {
		weight = 10
		modifier = {
			factor = 10
			is_enslaved = yes
			can_take_servant_job = no
		}
		# crisis purge
		modifier = {
			factor = 0.01
			planet.controller = {
				OR = {
					is_country_type = swarm
					is_country_type = ai_empire
				}
			}
		}
	}
}

pad = {
	category = specialist
	condition_string = SPECIALIST_JOB_TRIGGER
	building_icon = building_hmg
	clothes_texture_index = 3
	possible_precalc = can_fill_specialist_job
	possible_pre_triggers = {
		has_owner = yes
	}
	possible = {
		pop_group_has_trait = trait_touhou
	}
	country_modifier = {
		country_naval_cap_add = 150
	}
	resources = {
		category = planet_researchers
		produces = {
			alloys = 8
			consumer_goods = 14
			sr_fuka = 4
		}
		produces = {
			trigger = {
				planet = {
					spth_is_gensokyo_city = yes
				}
			}
			alloys = 8
			consumer_goods = 14
			sr_fuka = 4
		}
		produces = {
			trigger = {
				owner = {
					has_technology = "tech_specialist_0"
				}
			}
			unity = 3
			physics_research = 5
			engineering_research = 5
			society_research = 5
		}
		produces = {
			trigger = {
				owner = {
					has_valid_civic = civic_gensokyo
				}
			}
			unity = 2
			physics_research = 5
			engineering_research = 5
			society_research = 5
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_toho4
				}
			}
			unity = 1
			physics_research = 10
			engineering_research = 10
			society_research = 10
			energy = 28
			minerals = 28
			food = 14
		}
	}
	planet_modifier = {
		planet_amenities_add = 6
	}
	weight = {
		weight = @specialist_job_weight
		modifier = {
			factor = 0.1
			has_citizenship_rights = no
			NOT = {
				pop_group_has_trait = trait_mechanical
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				pop_group_has_trait = trait_robot_domestic_protocols
				pop_group_has_trait = trait_charismatic
			}
		}
		modifier = {
			factor = 0.5
			pop_group_has_trait = trait_repugnant
		}
		modifier = {
			factor = 1.25
			OR = {
				pop_group_has_trait = trait_robot_propaganda_machines
				pop_group_has_trait = trait_traditional
			}
		}
		modifier = {
			factor = 0.75
			pop_group_has_trait = trait_quarrelsome
		}
		modifier = {
			factor = 5
			has_job = pad
		}
		modifier = {
			factor = 1.25
			pop_group_has_trait = trait_brainslug
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_presapient_natural_intellectuals
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_robust
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_necrophage
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_planet_class = pc_habitat
			}
		}
		modifier = {
			factor = 0.85
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_artificial = no
			}
		}
		# crisis purge
		modifier = {
			factor = 0.01
			exists = planet
			exists = planet.controller
			planet.controller = {
				OR = {
					is_country_type = swarm
					is_country_type = ai_empire
				}
			}
		}
	}
}

fbpad = {
	category = specialist
	condition_string = SPECIALIST_JOB_TRIGGER
	building_icon = building_hmg
	clothes_texture_index = 3
	possible_precalc = can_fill_specialist_job
	possible_pre_triggers = {
		has_owner = yes
	}
	possible = {
		pop_group_has_trait = trait_touhou
	}
	country_modifier = {
		country_naval_cap_add = 200
		country_admin_cap_add = 40
	}
	resources = {
		category = planet_researchers
		produces = {
			alloys = 14
			consumer_goods = 14
			sr_fuka = 8
		}
		produces = {
			trigger = {
				planet = {
					spth_is_gensokyo_city = yes
				}
			}
			alloys = 14
			consumer_goods = 14
			sr_fuka = 8
		}
		produces = {
			trigger = {
				owner = {
					has_technology = "tech_specialist_0"
				}
			}
			unity = 3.5
			physics_research = 5
			engineering_research = 5
			society_research = 5
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_mu_1
						has_modifier = th_planet_xzzs_1
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			food = 8
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_mu_2
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			society_research = 14
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_shui_1
						has_modifier = th_planet_xzzs_1
					}
					NAND = {
						has_modifier = th_planet_xzzs_1
						has_modifier = th_planet_shui_2
					}
				}
			}
			unity = 6
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_shui_2
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			unity = 12
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_huo_1
						has_modifier = th_planet_xzzs_1
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			alloys = 9
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_tu_1
						has_modifier = th_planet_xzzs_1
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			minerals = 8
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_tu_2
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			engineering_research = 14
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_ri_1
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			energy = 22
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_yue_1
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			physics_research = 14
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_hm3
				}
			}
			alloys = 2
			consumer_goods = 2
			unity = 2
			physics_research = 2
			engineering_research = 2
			society_research = 2
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_hm4
				}
			}
			alloys = 4
			consumer_goods = 4
			unity = 2
			physics_research = 2
			engineering_research = 2
			society_research = 2
		}
	}
	planet_modifier = {
		planet_amenities_add = 6
	}
	weight = {
		weight = @specialist_job_weight
		modifier = {
			factor = 0.1
			has_citizenship_rights = no
			NOT = {
				pop_group_has_trait = trait_mechanical
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				pop_group_has_trait = trait_robot_domestic_protocols
				pop_group_has_trait = trait_charismatic
			}
		}
		modifier = {
			factor = 0.5
			pop_group_has_trait = trait_repugnant
		}
		modifier = {
			factor = 1.25
			OR = {
				pop_group_has_trait = trait_robot_propaganda_machines
				pop_group_has_trait = trait_traditional
			}
		}
		modifier = {
			factor = 0.75
			pop_group_has_trait = trait_quarrelsome
		}
		modifier = {
			factor = 5
			has_job = fbpad
		}
		modifier = {
			factor = 1.25
			pop_group_has_trait = trait_brainslug
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_presapient_natural_intellectuals
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_robust
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_necrophage
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_planet_class = pc_habitat
			}
		}
		modifier = {
			factor = 0.85
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_artificial = no
			}
		}
		# crisis purge
		modifier = {
			factor = 0.01
			exists = planet
			exists = planet.controller
			planet.controller = {
				OR = {
					is_country_type = swarm
					is_country_type = ai_empire
				}
			}
		}
	}
}

mogu_girl = {
	category = worker
	condition_string = WORKER_JOB_TRIGGER
	clothes_texture_index = 3
	possible_precalc = can_fill_worker_job
	possible_pre_triggers = {
		has_owner = yes
	}
	possible = {
		pop_group_has_trait = trait_touhou
	}
	country_modifier = {
		ship_weapon_damage = 0.05
		weapon_type_lingli_weapon_damage_mult = 0.05
		weapon_type_lingli_weapon_fire_rate_mult = 0.05
	}
	resources = {
		category = planet_researchers
		produces = {
			trigger = {
				owner = {
					has_technology = "tech_worker_0"
				}
			}
			energy = 3
			minerals = 3
			food = 3
		}
		produces = {
			trigger = {
				owner = {
					has_valid_civic = civic_gensokyo
				}
			}
			unity = 2
			physics_research = 5
			engineering_research = 5
			society_research = 5
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_toho4
				}
			}
			unity = 1
			physics_research = 10
			engineering_research = 10
			society_research = 10
			energy = 28
			minerals = 28
			food = 14
		}
		# produces = {
		# 	trigger = {
		# 		owner = {
		# 			has_country_flag = spth_scarlet_start
		# 		}
		# 	}
		# 	sr_lingli = 1
		# }
		upkeep = {
			sr_lingli = 3
		}
	}
	planet_modifier = {
		planet_amenities_add = 2
	}
	weight = {
		weight = 10
		modifier = {
			factor = 10
			is_enslaved = yes
			can_take_servant_job = no
		}
		# crisis purge
		modifier = {
			factor = 0.01
			planet.controller = {
				OR = {
					is_country_type = swarm
					is_country_type = ai_empire
				}
			}
		}
	}
}

spth_foundry = {
	category = specialist
	condition_string = SPECIALIST_JOB_TRIGGER
	building_icon = building_foundry_1
	clothes_texture_index = 3
	icon = foundry
	possible_precalc = can_fill_specialist_job
	possible_pre_triggers = {
		has_owner = yes
	}
	possible = {
		pop_group_has_trait = trait_touhou
	}
	resources = {
		category = planet_metallurgists
		produces = {
			alloys = 80
		}
		produces = {
			trigger = {
				owner = {
					has_technology = "tech_specialist_0"
				}
			}
			unity = 3
			physics_research = 5
			engineering_research = 5
			society_research = 5
		}
		produces = {
			trigger = {
				owner = {
					has_valid_civic = civic_gensokyo
				}
			}
			unity = 2
			physics_research = 5
			engineering_research = 5
			society_research = 5
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_toho4
				}
			}
			unity = 1
			physics_research = 10
			engineering_research = 10
			society_research = 10
			energy = 28
			minerals = 28
			food = 14
		}
		upkeep = {
			minerals = 140
		}
	}
	weight = {
		weight = @specialist_job_weight
		modifier = {
			factor = 0.1
			has_citizenship_rights = no
			NOT = {
				pop_group_has_trait = trait_mechanical
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				pop_group_has_trait = trait_robot_domestic_protocols
				pop_group_has_trait = trait_charismatic
			}
		}
		modifier = {
			factor = 0.5
			pop_group_has_trait = trait_repugnant
		}
		modifier = {
			factor = 1.25
			OR = {
				pop_group_has_trait = trait_robot_propaganda_machines
				pop_group_has_trait = trait_traditional
			}
		}
		modifier = {
			factor = 0.75
			pop_group_has_trait = trait_quarrelsome
		}
		modifier = {
			factor = 5
			has_job = spth_foundry
		}
		modifier = {
			factor = 1.25
			pop_group_has_trait = trait_brainslug
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_presapient_natural_intellectuals
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_robust
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_necrophage
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_planet_class = pc_habitat
			}
		}
		modifier = {
			factor = 0.85
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_artificial = no
			}
		}
		# crisis purge
		modifier = {
			factor = 0.01
			exists = planet
			exists = planet.controller
			planet.controller = {
				OR = {
					is_country_type = swarm
					is_country_type = ai_empire
				}
			}
		}
	}
}

spth_artisan = {
	category = specialist
	condition_string = SPECIALIST_JOB_TRIGGER
	building_icon = building_foundry_1
	clothes_texture_index = 3
	icon = artisan
	possible_precalc = can_fill_specialist_job
	possible_pre_triggers = {
		has_owner = yes
	}
	possible = {
		pop_group_has_trait = trait_touhou
	}
	resources = {
		category = planet_metallurgists
		produces = {
			consumer_goods = 80
		}
		produces = {
			trigger = {
				owner = {
					has_technology = "tech_specialist_0"
				}
			}
			unity = 3
			physics_research = 5
			engineering_research = 5
			society_research = 5
		}
		produces = {
			trigger = {
				owner = {
					has_valid_civic = civic_gensokyo
				}
			}
			unity = 2
			physics_research = 5
			engineering_research = 5
			society_research = 5
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_toho4
				}
			}
			unity = 1
			physics_research = 10
			engineering_research = 10
			society_research = 10
			energy = 28
			minerals = 28
			food = 14
		}
		upkeep = {
			minerals = 80
		}
	}
	weight = {
		weight = @specialist_job_weight
		modifier = {
			factor = 0.1
			has_citizenship_rights = no
			NOT = {
				pop_group_has_trait = trait_mechanical
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				pop_group_has_trait = trait_robot_domestic_protocols
				pop_group_has_trait = trait_charismatic
			}
		}
		modifier = {
			factor = 0.5
			pop_group_has_trait = trait_repugnant
		}
		modifier = {
			factor = 1.25
			OR = {
				pop_group_has_trait = trait_robot_propaganda_machines
				pop_group_has_trait = trait_traditional
			}
		}
		modifier = {
			factor = 0.75
			pop_group_has_trait = trait_quarrelsome
		}
		modifier = {
			factor = 5
			has_job = spth_artisan
		}
		modifier = {
			factor = 1.25
			pop_group_has_trait = trait_brainslug
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_presapient_natural_intellectuals
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_robust
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_necrophage
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_planet_class = pc_habitat
			}
		}
		modifier = {
			factor = 0.85
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_artificial = no
			}
		}
		# crisis purge
		modifier = {
			factor = 0.01
			exists = planet
			exists = planet.controller
			planet.controller = {
				OR = {
					is_country_type = swarm
					is_country_type = ai_empire
				}
			}
		}
	}
}

spth_shielder = {
	category = specialist
	condition_string = SPECIALIST_JOB_TRIGGER
	building_icon = building_hmg
	clothes_texture_index = 2
	possible_precalc = can_fill_specialist_job
	possible_pre_triggers = {
		has_owner = yes
	}
	possible = {
		pop_group_has_trait = trait_touhou
	}
	country_modifier = {
		country_naval_cap_add = 200
	}
	pop_modifier = {
		pop_defense_armies_add = 3
	}
	planet_modifier = {
		planet_crime_mult = -0.1
		planet_orbital_bombardment_damage = -0.1
	}
	resources = {
		category = planet_soldiers
		produces = {
			unity = 20
		}
		produces = {
			trigger = {
				owner = {
					has_technology = "tech_specialist_0"
				}
			}
			unity = 3
			physics_research = 5
			engineering_research = 5
			society_research = 5
		}
		produces = {
			trigger = {
				owner = {
					has_valid_civic = civic_gensokyo
				}
			}
			unity = 2
			physics_research = 5
			engineering_research = 5
			society_research = 5
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_toho4
				}
			}
			unity = 1
			physics_research = 10
			engineering_research = 10
			society_research = 10
			energy = 28
			minerals = 28
			food = 14
		}
		upkeep = {
			minerals = 70
		}
	}
	weight = {
		weight = @specialist_job_weight
		modifier = {
			factor = 0.1
			has_citizenship_rights = no
			NOT = {
				pop_group_has_trait = trait_mechanical
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				pop_group_has_trait = trait_robot_domestic_protocols
				pop_group_has_trait = trait_charismatic
			}
		}
		modifier = {
			factor = 0.5
			pop_group_has_trait = trait_repugnant
		}
		modifier = {
			factor = 1.25
			OR = {
				pop_group_has_trait = trait_robot_propaganda_machines
				pop_group_has_trait = trait_traditional
			}
		}
		modifier = {
			factor = 0.75
			pop_group_has_trait = trait_quarrelsome
		}
		modifier = {
			factor = 5
			has_job = spth_shielder
		}
		modifier = {
			factor = 1.25
			pop_group_has_trait = trait_brainslug
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_presapient_natural_intellectuals
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_robust
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_necrophage
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_planet_class = pc_habitat
			}
		}
		modifier = {
			factor = 0.85
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_artificial = no
			}
		}
		# crisis purge
		modifier = {
			factor = 0.01
			exists = planet
			exists = planet.controller
			planet.controller = {
				OR = {
					is_country_type = swarm
					is_country_type = ai_empire
				}
			}
		}
	}
}

spth_tushu = {
	category = specialist
	condition_string = SPECIALIST_JOB_TRIGGER
	clothes_texture_index = 2
	possible_precalc = can_fill_specialist_job
	possible_pre_triggers = {
		has_owner = yes
	}
	possible = {
		pop_group_has_trait = trait_touhou
	}
	resources = {
		category = planet_researchers
		produces = {
			physics_research = 80
			engineering_research = 80
			society_research = 80
		}
		produces = {
			trigger = {
				owner = {
					has_technology = "tech_specialist_0"
				}
			}
			unity = 3
			physics_research = 5
			engineering_research = 5
			society_research = 5
		}
		produces = {
			trigger = {
				owner = {
					has_valid_civic = civic_gensokyo
				}
			}
			unity = 2
			physics_research = 5
			engineering_research = 5
			society_research = 5
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_toho4
				}
			}
			unity = 1
			physics_research = 10
			engineering_research = 10
			society_research = 10
			energy = 28
			minerals = 28
			food = 14
		}
		upkeep = {
			energy = 14
			consumer_goods = 36
		}
	}
	planet_modifier = {
		planet_amenities_add = 1
	}
	triggered_planet_modifier = {
		potential = {
			OR = {
				pop_group_has_trait = trait_robot_domestic_protocols
				pop_group_has_trait = trait_charismatic
			}
		}
		modifier = {
			planet_amenities_add = 1
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_group_has_trait = trait_repugnant
		}
		modifier = {
			planet_amenities_add = -1
		}
	}
	weight = {
		weight = @specialist_job_weight
		modifier = {
			factor = 0.1
			has_citizenship_rights = no
			NOT = {
				pop_group_has_trait = trait_mechanical
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				pop_group_has_trait = trait_robot_domestic_protocols
				pop_group_has_trait = trait_charismatic
			}
		}
		modifier = {
			factor = 0.5
			pop_group_has_trait = trait_repugnant
		}
		modifier = {
			factor = 1.25
			OR = {
				pop_group_has_trait = trait_robot_propaganda_machines
				pop_group_has_trait = trait_traditional
			}
		}
		modifier = {
			factor = 0.75
			pop_group_has_trait = trait_quarrelsome
		}
		modifier = {
			factor = 5
			has_job = spth_tushu
		}
		modifier = {
			factor = 1.25
			pop_group_has_trait = trait_brainslug
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_presapient_natural_intellectuals
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_robust
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_necrophage
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_planet_class = pc_habitat
			}
		}
		modifier = {
			factor = 0.85
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_artificial = no
			}
		}
		# crisis purge
		modifier = {
			factor = 0.01
			exists = planet
			exists = planet.controller
			planet.controller = {
				OR = {
					is_country_type = swarm
					is_country_type = ai_empire
				}
			}
		}
	}
}

spth_zhushou = {
	category = specialist
	condition_string = SPECIALIST_JOB_TRIGGER
	clothes_texture_index = 2
	possible_precalc = can_fill_specialist_job
	possible_pre_triggers = {
		has_owner = yes
	}
	possible = {
		pop_group_has_trait = trait_touhou
	}
	resources = {
		category = planet_researchers
		produces = {
			physics_research = 40
			engineering_research = 40
			society_research = 40
		}
		produces = {
			trigger = {
				owner = {
					has_technology = "tech_specialist_0"
				}
			}
			unity = 3
			physics_research = 5
			engineering_research = 5
			society_research = 5
		}
		produces = {
			trigger = {
				owner = {
					has_valid_civic = civic_gensokyo
				}
			}
			unity = 2
			physics_research = 5
			engineering_research = 5
			society_research = 5
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_toho4
				}
			}
			unity = 1
			physics_research = 10
			engineering_research = 10
			society_research = 10
			energy = 28
			minerals = 28
			food = 14
		}
		upkeep = {
			energy = 10
			consumer_goods = 20
		}
	}
	planet_modifier = {
		planet_amenities_add = 1
	}
	triggered_planet_modifier = {
		potential = {
			OR = {
				pop_group_has_trait = trait_robot_domestic_protocols
				pop_group_has_trait = trait_charismatic
			}
		}
		modifier = {
			planet_amenities_add = 1
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_group_has_trait = trait_repugnant
		}
		modifier = {
			planet_amenities_add = -1
		}
	}
	weight = {
		weight = @specialist_job_weight
		modifier = {
			factor = 0.1
			has_citizenship_rights = no
			NOT = {
				pop_group_has_trait = trait_mechanical
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				pop_group_has_trait = trait_robot_domestic_protocols
				pop_group_has_trait = trait_charismatic
			}
		}
		modifier = {
			factor = 0.5
			pop_group_has_trait = trait_repugnant
		}
		modifier = {
			factor = 1.25
			OR = {
				pop_group_has_trait = trait_robot_propaganda_machines
				pop_group_has_trait = trait_traditional
			}
		}
		modifier = {
			factor = 0.75
			pop_group_has_trait = trait_quarrelsome
		}
		modifier = {
			factor = 5
			has_job = spth_zhushou
		}
		modifier = {
			factor = 1.25
			pop_group_has_trait = trait_brainslug
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_presapient_natural_intellectuals
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_robust
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_necrophage
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_planet_class = pc_habitat
			}
		}
		modifier = {
			factor = 0.85
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_artificial = no
			}
		}
		# crisis purge
		modifier = {
			factor = 0.01
			exists = planet
			exists = planet.controller
			planet.controller = {
				OR = {
					is_country_type = swarm
					is_country_type = ai_empire
				}
			}
		}
	}
}

spth_jiqiao = {
	category = specialist
	condition_string = SPECIALIST_JOB_TRIGGER
	clothes_texture_index = 3
	possible_precalc = can_fill_specialist_job
	possible_pre_triggers = {
		has_owner = yes
	}
	possible = {
		pop_group_has_trait = trait_touhou
	}
	resources = {
		category = planet_metallurgists
		produces = {
			alloys = 50
			consumer_goods = 60
		}
		produces = {
			trigger = {
				owner = {
					has_technology = "tech_specialist_0"
				}
			}
			unity = 3
			physics_research = 5
			engineering_research = 5
			society_research = 5
		}
		produces = {
			trigger = {
				owner = {
					has_valid_civic = civic_gensokyo
				}
			}
			unity = 2
			physics_research = 5
			engineering_research = 5
			society_research = 5
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_toho4
				}
			}
			unity = 1
			physics_research = 10
			engineering_research = 10
			society_research = 10
			energy = 28
			minerals = 28
			food = 14
		}
		upkeep = {
			minerals = 160
		}
	}
	weight = {
		weight = @specialist_job_weight
		modifier = {
			factor = 0.1
			has_citizenship_rights = no
			NOT = {
				pop_group_has_trait = trait_mechanical
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				pop_group_has_trait = trait_robot_domestic_protocols
				pop_group_has_trait = trait_charismatic
			}
		}
		modifier = {
			factor = 0.5
			pop_group_has_trait = trait_repugnant
		}
		modifier = {
			factor = 1.25
			OR = {
				pop_group_has_trait = trait_robot_propaganda_machines
				pop_group_has_trait = trait_traditional
			}
		}
		modifier = {
			factor = 0.75
			pop_group_has_trait = trait_quarrelsome
		}
		modifier = {
			factor = 5
			has_job = spth_jiqiao
		}
		modifier = {
			factor = 1.25
			pop_group_has_trait = trait_brainslug
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_presapient_natural_intellectuals
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_robust
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_necrophage
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_planet_class = pc_habitat
			}
		}
		modifier = {
			factor = 0.85
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_artificial = no
			}
		}
		# crisis purge
		modifier = {
			factor = 0.01
			exists = planet
			exists = planet.controller
			planet.controller = {
				OR = {
					is_country_type = swarm
					is_country_type = ai_empire
				}
			}
		}
	}
}

spth_renou = {
	category = worker
	condition_string = WORKER_JOB_TRIGGER
	clothes_texture_index = 3
	possible_precalc = can_fill_worker_job
	possible_pre_triggers = {
		has_owner = yes
	}
	possible = {
		pop_group_has_trait = trait_touhou
	}
	country_modifier = {
		weapon_type_strike_craft_weapon_damage_mult = 0.1
		weapon_type_strike_craft_weapon_fire_rate_mult = 0.1
	}
	resources = {
		category = planet_researchers
		produces = {
			trigger = {
				owner = {
					has_technology = "tech_worker_0"
				}
			}
			energy = 3
			minerals = 3
			food = 3
		}
		produces = {
			trigger = {
				owner = {
					has_valid_civic = civic_gensokyo
				}
			}
			unity = 2
			physics_research = 5
			engineering_research = 5
			society_research = 5
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_toho4
				}
			}
			unity = 1
			physics_research = 10
			engineering_research = 10
			society_research = 10
			energy = 28
			minerals = 28
			food = 14
		}
		# produces = {
		# 	trigger = {
		# 		owner = {
		# 			has_country_flag = spth_scarlet_start
		# 		}
		# 	}
		# 	sr_lingli = 1
		# }
		upkeep = {
			sr_lingli = 3
			alloys = 10
		}
	}
	planet_modifier = {
		planet_pop_assembly_organic_mult = 2
		planet_amenities_add = 2
	}
	weight = {
		weight = @specialist_job_weight
		modifier = {
			factor = 0.1
			has_citizenship_rights = no
			NOT = {
				pop_group_has_trait = trait_mechanical
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				pop_group_has_trait = trait_robot_domestic_protocols
				pop_group_has_trait = trait_charismatic
			}
		}
		modifier = {
			factor = 0.5
			pop_group_has_trait = trait_repugnant
		}
		modifier = {
			factor = 1.25
			OR = {
				pop_group_has_trait = trait_robot_propaganda_machines
				pop_group_has_trait = trait_traditional
			}
		}
		modifier = {
			factor = 0.75
			pop_group_has_trait = trait_quarrelsome
		}
		modifier = {
			factor = 5
			has_job = spth_renou
		}
		modifier = {
			factor = 1.25
			pop_group_has_trait = trait_brainslug
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_presapient_natural_intellectuals
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_robust
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_necrophage
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_planet_class = pc_habitat
			}
		}
		modifier = {
			factor = 0.85
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_artificial = no
			}
		}
		# crisis purge
		modifier = {
			factor = 0.01
			exists = planet
			exists = planet.controller
			planet.controller = {
				OR = {
					is_country_type = swarm
					is_country_type = ai_empire
				}
			}
		}
	}
}

spth_shengong = {
	category = ruler
	condition_string = RULER_JOB_TRIGGER
	clothes_texture_index = 3
	possible_precalc = can_fill_ruler_job
	possible_pre_triggers = {
		has_owner = yes
	}
	possible = {
		pop_group_has_trait = trait_touhou
	}
	resources = {
		category = planet_researchers
		produces = {
			sr_lingli = 3
		}
		# produces = {
		# 	trigger = {
		# 		owner = {
		# 			has_country_flag = spth_scarlet_start
		# 		}
		# 	}
		# 	sr_lingli = 1
		# }
		upkeep = {
			food = 100
		}
	}
	planet_modifier = {
		planet_jobs_sr_lingli_produces_mult = 0.15
	}
	weight = {
		weight = @ruler_job_weight
		modifier = {
			factor = 0.1
			has_citizenship_rights = no
			NOT = {
				pop_group_has_trait = trait_mechanical
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				pop_group_has_trait = trait_robot_domestic_protocols
				pop_group_has_trait = trait_charismatic
			}
		}
		modifier = {
			factor = 0.5
			pop_group_has_trait = trait_repugnant
		}
		modifier = {
			factor = 1.25
			OR = {
				pop_group_has_trait = trait_robot_propaganda_machines
				pop_group_has_trait = trait_traditional
			}
		}
		modifier = {
			factor = 0.75
			pop_group_has_trait = trait_quarrelsome
		}
		modifier = {
			factor = 5
			has_job = spth_shengong
		}
		modifier = {
			factor = 1.25
			pop_group_has_trait = trait_brainslug
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_presapient_natural_intellectuals
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_robust
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_necrophage
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_planet_class = pc_habitat
			}
		}
		modifier = {
			factor = 0.85
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_artificial = no
			}
		}
		# crisis purge
		modifier = {
			factor = 0.01
			exists = planet
			exists = planet.controller
			planet.controller = {
				OR = {
					is_country_type = swarm
					is_country_type = ai_empire
				}
			}
		}
	}
}

# sanae_toy = {
# 	category = specialist
# 	condition_string = SPECIALIST_JOB_TRIGGER
# 	building_icon = building_suwa
# 	clothes_texture_index = 3
# 	possible = {
# 		specialist_job_check_trigger = yes
# 	}
# 	planet_modifier = {
# 		planet_pop_assembly_add = 5
# 	}
# 	resources = {
# 		category = planet_pop_assemblers
# 		produces = {
# 			trigger = { 
# 				owner = { has_valid_civic = civic_gensokyo }
# 			}
# 			unity = 0.1
# 			physics_research = 0.5
# 			engineering_research = 0.5
# 			society_research = 0.5
# 		}
# 		produces = {
# 			trigger = { 
# 				owner = { has_ascension_perk = ap_toho4 }
# 			}
# 			unity = 0.1
# 			physics_research = 1.0
# 			engineering_research = 1.0
# 			society_research = 1.0
# 			energy = 1.5
# 			minerals = 1.5
# 			food = 1
# 		}
# 		upkeep = {
# 			alloys = 10
# 		}
# 	}
# 	weight = {
# 		weight = 90
# 		modifier = {
# 			factor = 0.2
# 			has_citizenship_rights = no	
# 			NOT = { pop_group_has_trait = trait_mechanical }	
# 		}
# 		modifier = {
# 			factor = 0.1
# 			can_take_servant_job = yes
# 		}
# 		modifier = {
# 			factor = 2
# 			species = {
# 				has_species_flag = racket_species_flag
# 			}
# 		}
# 		modifier = {
# 			factor = 100
# 			planet = {
# 				exists = owner
# 				owner = { is_mechanical_empire = yes }
# 			}		
# 		}
# 		modifier = {
# 			factor = 1.5
# 			has_job =roboticist
# 		}
# 	}
# }
# fbsanae_toy = {
# 	category = specialist
# 	condition_string = SPECIALIST_JOB_TRIGGER
# 	building_icon = building_suwa
# 	clothes_texture_index = 3
# 	possible = {
# 		specialist_job_check_trigger = yes
# 	}
# 	planet_modifier = {
# 		planet_pop_assembly_add = 3
# 	}
# 	resources = {
# 		category = planet_pop_assemblers
# 		upkeep = {
# 			alloys = 8
# 		}
# 	}
# 	weight = {
# 		weight = 90
# 		modifier = {
# 			factor = 0.2
# 			has_citizenship_rights = no	
# 			NOT = { pop_group_has_trait = trait_mechanical }	
# 		}
# 		modifier = {
# 			factor = 0.1
# 			can_take_servant_job = yes
# 		}
# 		modifier = {
# 			factor = 2
# 			species = {
# 				has_species_flag = racket_species_flag
# 			}
# 		}
# 		modifier = {
# 			factor = 100
# 			planet = {
# 				exists = owner
# 				owner = { is_mechanical_empire = yes }
# 			}
# 		}
# 		modifier = {
# 			factor = 1.5
# 			has_job =roboticist
# 		}
# 	}
# }
Immortal = {
	category = specialist
	condition_string = SPECIALIST_JOB_TRIGGER
	building_icon = building_slm
	clothes_texture_index = 3
	possible_precalc = can_fill_specialist_job
	possible_pre_triggers = {
		has_owner = yes
	}
	possible = {
		pop_group_has_trait = trait_touhou
	}
	resources = {
		category = planet_researchers
		upkeep = {
		}
		produces = {
			exotic_gases = 0.1
			volatile_motes = 0.1
			rare_crystals = 0.1
			consumer_goods = 2
			energy = 9
			minerals = 9
			food = 6.6
			sr_lingli = 0.5
		}
		produces = {
			trigger = {
				planet = {
					spth_is_gensokyo_city = yes
				}
			}
			exotic_gases = 0.1
			volatile_motes = 0.1
			rare_crystals = 0.1
			consumer_goods = 2
			energy = 9
			minerals = 9
			food = 6.6
			sr_lingli = 0.5
		}
		produces = {
			trigger = {
				owner = {
					has_technology = "tech_specialist_0"
				}
			}
			unity = 2
			physics_research = 5
			engineering_research = 5
			society_research = 5
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_mu_1
						has_modifier = th_planet_xzzs_1
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			food = 5
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_mu_2
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			society_research = 10
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_shui_1
						has_modifier = th_planet_xzzs_1
					}
					NAND = {
						has_modifier = th_planet_xzzs_1
						has_modifier = th_planet_shui_2
					}
				}
			}
			unity = 2
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_shui_2
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			unity = 5
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_huo_1
						has_modifier = th_planet_xzzs_1
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			alloys = 4
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_tu_1
						has_modifier = th_planet_xzzs_1
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			minerals = 5
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_tu_2
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			engineering_research = 10
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_ri_1
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			energy = 14
		}
		produces = {
			trigger = {
				planet = {
					OR = {
						has_modifier = th_planet_yue_1
						has_modifier = th_planet_xzzs_2
					}
				}
			}
			physics_research = 10
		}
		produces = {
			trigger = {
				owner = {
					has_valid_civic = civic_gensokyo
				}
			}
			unity = 1
			physics_research = 5
			engineering_research = 5
			society_research = 5
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_toho4
				}
			}
			unity = 2
			physics_research = 10
			engineering_research = 10
			society_research = 10
			energy = 28
			minerals = 28
			food = 14
		}
	}
	planet_modifier = {
		planet_amenities_add = 2
	}
	weight = {
		weight = @specialist_job_weight
		modifier = {
			factor = 0.1
			has_citizenship_rights = no
			NOT = {
				pop_group_has_trait = trait_mechanical
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				pop_group_has_trait = trait_robot_domestic_protocols
				pop_group_has_trait = trait_charismatic
			}
		}
		modifier = {
			factor = 0.5
			pop_group_has_trait = trait_repugnant
		}
		modifier = {
			factor = 1.25
			OR = {
				pop_group_has_trait = trait_robot_propaganda_machines
				pop_group_has_trait = trait_traditional
			}
		}
		modifier = {
			factor = 0.75
			pop_group_has_trait = trait_quarrelsome
		}
		modifier = {
			factor = 5
			has_job = Immortal
		}
		modifier = {
			factor = 1.25
			pop_group_has_trait = trait_brainslug
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_presapient_natural_intellectuals
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_robust
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_necrophage
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_planet_class = pc_habitat
			}
		}
		modifier = {
			factor = 0.85
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_artificial = no
			}
		}
		# crisis purge
		modifier = {
			factor = 0.01
			exists = planet
			exists = planet.controller
			planet.controller = {
				OR = {
					is_country_type = swarm
					is_country_type = ai_empire
				}
			}
		}
	}
}

th_monk = {
	category = worker
	swappable_data = {
		default = {
			building_icon = building_hts
			condition_string = WORKER_JOB_TRIGGER
			icon = th_monk
		}
	}
	possible_precalc = can_fill_worker_job
	possible_pre_triggers = {
		has_owner = yes
	}
	possible = {
		pop_group_has_trait = trait_touhou
	}
	resources = {
		category = planet_spth_monk
		# base
		inline_script = {
			script = jobs/spth_job_twin_produce
			resource_1 = sr_lingli count_1 = 1.5
			resource_2 = unity count_2 = 1.5
		}
		# gensokyo city
		inline_script = {
			script = jobs/spth_job_twin_city_produce
			resource_1 = sr_lingli count_1 = 1.5
			resource_2 = unity count_2 = 0.5
		}
		inline_script = { script = jobs/spth_job_single_ap_city_produce resource = sr_lingli count = 0.25 ap = ap_toho2 }
		inline_script = { script = jobs/spth_job_single_ap_city_produce resource = sr_lingli count = 0.5 ap = ap_toho3 }
		inline_script = {
			script = jobs/spth_job_twin_ap_city_produce ap = ap_toho4
			resource_1 = sr_lingli count_1 = 0.5
			resource_2 = unity count_2 = 0.25
		}
		# ap
		inline_script = { script = jobs/spth_job_single_ap_produce resource = sr_lingli count = 0.25 ap = ap_toho2 }
		inline_script = { script = jobs/spth_job_single_ap_produce resource = sr_lingli count = 0.25 ap = ap_toho3 }
		inline_script = {
			script = jobs/spth_job_twin_ap_produce ap = ap_toho4
			resource_1 = sr_lingli count_1 = 0.25
			resource_2 = unity count_2 = 0.5
		}
		upkeep = {
			food = 3
			mult = planet.planet_weak_genso_job_upkeep_faith_modifier
		}
	}
	weight = {
		weight = 15
	}
}

# fbth_monk = {
# 	category = specialist
# 	condition_string = SPECIALIST_JOB_TRIGGER
# 	building_icon = building_hts
# 	clothes_texture_index = 3
# 	possible = {
# 		specialist_job_check_trigger = yes
# 	}
# 	planet_modifier = {
# 		logistic_growth_mult = 0.3
# 	}
# 	resources = {
# 		category = planet_doctors
# 		upkeep = {
# 		food = 10
# 		}	
# 	}
# 	weight = {
# 		weight = 90
# 	}
# }
huahua = {
	category = worker
	condition_string = WORKER_JOB_TRIGGER
	building_icon = building_hmg
	clothes_texture_index = 2
	possible_precalc = can_fill_worker_job
	possible_pre_triggers = {
		has_owner = yes
	}
	possible = {
		pop_group_has_trait = trait_touhou
	}
	country_modifier = {
		country_naval_cap_add = 10
	}
	pop_modifier = {
		pop_defense_armies_add = 1
	}
	resources = {
		category = planet_researchers
		produces = {
			alloys = 20
		}
		produces = {
			trigger = {
				planet = {
					spth_is_gensokyo_city = yes
				}
			}
			alloys = 20
		}
		produces = {
			trigger = {
				owner = {
					has_technology = "tech_worker_0"
				}
			}
			energy = 6
			minerals = 6
			food = 6
		}
		produces = {
			trigger = {
				owner = {
					has_valid_civic = civic_gensokyo
				}
			}
			unity = 0.5
			physics_research = 5
			engineering_research = 5
			society_research = 5
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_toho4
				}
			}
			unity = 1
			physics_research = 10
			engineering_research = 10
			society_research = 10
			energy = 28
			minerals = 28
			food = 14
		}
		upkeep = {
			minerals = 70
		}
	}
	weight = {
		weight = 15
	}
}

wenwen = {
	category = specialist
	condition_string = SPECIALIST_JOB_TRIGGER
	building_icon = building_hmg
	clothes_texture_index = 2
	possible_precalc = can_fill_specialist_job
	possible_pre_triggers = {
		has_owner = yes
	}
	possible = {
		pop_group_has_trait = trait_touhou
	}
	resources = {
		category = planet_researchers
		produces = {
			consumer_goods = 20
			unity = 5
		}
		produces = {
			trigger = {
				planet = {
					spth_is_gensokyo_city = yes
				}
			}
			consumer_goods = 20
			unity = 5
		}
		produces = {
			trigger = {
				owner = {
					has_technology = "tech_specialist_0"
				}
			}
			unity = 5
			physics_research = 5
			engineering_research = 5
			society_research = 5
		}
		produces = {
			trigger = {
				owner = {
					has_valid_civic = civic_gensokyo
				}
			}
			unity = 0.5
			physics_research = 5
			engineering_research = 5
			society_research = 5
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_toho4
				}
			}
			unity = 1
			physics_research = 10
			engineering_research = 10
			society_research = 10
			energy = 28
			minerals = 28
			food = 14
		}
		upkeep = {
			minerals = 60
		}
	}
	planet_modifier = {
		planet_amenities_add = 1
	}
	weight = {
		weight = @specialist_job_weight
		modifier = {
			factor = 0.1
			has_citizenship_rights = no
			NOT = {
				pop_group_has_trait = trait_mechanical
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				pop_group_has_trait = trait_robot_domestic_protocols
				pop_group_has_trait = trait_charismatic
			}
		}
		modifier = {
			factor = 0.5
			pop_group_has_trait = trait_repugnant
		}
		modifier = {
			factor = 1.25
			OR = {
				pop_group_has_trait = trait_robot_propaganda_machines
				pop_group_has_trait = trait_traditional
			}
		}
		modifier = {
			factor = 0.75
			pop_group_has_trait = trait_quarrelsome
		}
		modifier = {
			factor = 5
			has_job = wenwen
		}
		modifier = {
			factor = 1.25
			pop_group_has_trait = trait_brainslug
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_presapient_natural_intellectuals
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_robust
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_necrophage
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_planet_class = pc_habitat
			}
		}
		modifier = {
			factor = 0.85
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_artificial = no
			}
		}
		# crisis purge
		modifier = {
			factor = 0.01
			exists = planet
			exists = planet.controller
			planet.controller = {
				OR = {
					is_country_type = swarm
					is_country_type = ai_empire
				}
			}
		}
	}
}

th_researcher = {
	category = specialist
	condition_string = SPECIALIST_JOB_TRIGGER
	building_icon = building_hmg
	clothes_texture_index = 2
	icon = researcher
	possible_precalc = can_fill_specialist_job
	possible_pre_triggers = {
		has_owner = yes
	}
	possible = {
		pop_group_has_trait = trait_touhou
	}
	resources = {
		category = planet_researchers
		produces = {
			physics_research = 50
			engineering_research = 50
			society_research = 50
		}
		produces = {
			trigger = {
				planet = {
					spth_is_gensokyo_city = yes
				}
			}
			physics_research = 50
			engineering_research = 50
			society_research = 50
		}
		produces = {
			trigger = {
				owner = {
					has_technology = "tech_specialist_0"
				}
			}
			unity = 5
			physics_research = 5
			engineering_research = 5
			society_research = 5
		}
		produces = {
			trigger = {
				owner = {
					has_valid_civic = civic_gensokyo
				}
			}
			unity = 5
			physics_research = 6
			engineering_research = 6
			society_research = 6
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_toho4
				}
			}
			unity = 1
			physics_research = 11
			engineering_research = 11
			society_research = 11
			energy = 30
			minerals = 20
			food = 15
		}
		upkeep = {
			energy = 10
			consumer_goods = 10
		}
	}
	planet_modifier = {
		planet_amenities_add = 1
	}
	triggered_planet_modifier = {
		potential = {
			OR = {
				pop_group_has_trait = trait_robot_domestic_protocols
				pop_group_has_trait = trait_charismatic
			}
		}
		modifier = {
			planet_amenities_add = 1
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_group_has_trait = trait_repugnant
		}
		modifier = {
			planet_amenities_add = -1
		}
	}
	weight = {
		weight = @specialist_job_weight
		modifier = {
			factor = 0.1
			has_citizenship_rights = no
			NOT = {
				pop_group_has_trait = trait_mechanical
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				pop_group_has_trait = trait_robot_domestic_protocols
				pop_group_has_trait = trait_charismatic
			}
		}
		modifier = {
			factor = 0.5
			pop_group_has_trait = trait_repugnant
		}
		modifier = {
			factor = 1.25
			OR = {
				pop_group_has_trait = trait_robot_propaganda_machines
				pop_group_has_trait = trait_traditional
			}
		}
		modifier = {
			factor = 0.75
			pop_group_has_trait = trait_quarrelsome
		}
		modifier = {
			factor = 5
			has_job = th_researcher
		}
		modifier = {
			factor = 1.25
			pop_group_has_trait = trait_brainslug
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_presapient_natural_intellectuals
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_robust
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_necrophage
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_planet_class = pc_habitat
			}
		}
		modifier = {
			factor = 0.85
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_artificial = no
			}
		}
		# crisis purge
		modifier = {
			factor = 0.01
			exists = planet
			exists = planet.controller
			planet.controller = {
				OR = {
					is_country_type = swarm
					is_country_type = ai_empire
				}
			}
		}
	}
}

hm_researcher = {
	category = specialist
	condition_string = SPECIALIST_JOB_TRIGGER
	building_icon = building_hmg
	clothes_texture_index = 2
	icon = researcher
	possible_precalc = can_fill_specialist_job
	possible_pre_triggers = {
		has_owner = yes
	}
	possible = {
		pop_group_has_trait = trait_touhou
	}
	resources = {
		category = planet_researchers
		produces = {
			physics_research = 30
			engineering_research = 30
			society_research = 30
		}
		produces = {
			trigger = {
				planet = {
					spth_is_gensokyo_city = yes
				}
			}
			physics_research = 30
			engineering_research = 30
			society_research = 30
		}
		produces = {
			trigger = {
				owner = {
					has_technology = "tech_specialist_0"
				}
			}
			unity = 3
			physics_research = 8
			engineering_research = 8
			society_research = 8
		}
		produces = {
			trigger = {
				owner = {
					has_valid_civic = civic_gensokyo
				}
			}
			unity = 3
			physics_research = 6
			engineering_research = 6
			society_research = 6
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_toho4
				}
			}
			unity = 1
			physics_research = 11
			engineering_research = 11
			society_research = 11
			energy = 30
			minerals = 20
			food = 15
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_hm2
				}
			}
			unity = 1
			physics_research = 5
			engineering_research = 5
			society_research = 5
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_hm3
				}
			}
			unity = 1
			physics_research = 7
			engineering_research = 7
			society_research = 7
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_hm4
				}
			}
			unity = 2
			physics_research = 10
			engineering_research = 10
			society_research = 10
		}
		upkeep = {
			energy = 7
			consumer_goods = 7
		}
	}
	planet_modifier = {
		planet_amenities_add = 1
	}
	triggered_planet_modifier = {
		potential = {
			OR = {
				pop_group_has_trait = trait_robot_domestic_protocols
				pop_group_has_trait = trait_charismatic
			}
		}
		modifier = {
			planet_amenities_add = 1
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_group_has_trait = trait_repugnant
		}
		modifier = {
			planet_amenities_add = -1
		}
	}
	weight = {
		weight = @specialist_job_weight
		modifier = {
			factor = 0.1
			has_citizenship_rights = no
			NOT = {
				pop_group_has_trait = trait_mechanical
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				pop_group_has_trait = trait_robot_domestic_protocols
				pop_group_has_trait = trait_charismatic
			}
		}
		modifier = {
			factor = 0.5
			pop_group_has_trait = trait_repugnant
		}
		modifier = {
			factor = 1.25
			OR = {
				pop_group_has_trait = trait_robot_propaganda_machines
				pop_group_has_trait = trait_traditional
			}
		}
		modifier = {
			factor = 0.75
			pop_group_has_trait = trait_quarrelsome
		}
		modifier = {
			factor = 5
			has_job = hm_researcher
		}
		modifier = {
			factor = 1.25
			pop_group_has_trait = trait_brainslug
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_presapient_natural_intellectuals
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_robust
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_necrophage
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_planet_class = pc_habitat
			}
		}
		modifier = {
			factor = 0.85
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_artificial = no
			}
		}
		# crisis purge
		modifier = {
			factor = 0.01
			exists = planet
			exists = planet.controller
			planet.controller = {
				OR = {
					is_country_type = swarm
					is_country_type = ai_empire
				}
			}
		}
	}
}

th_satori = {
	category = specialist
	possible_precalc = can_fill_specialist_job
	condition_string = SPECIALIST_JOB_TRIGGER
	#building_icon = building_hmg #######################################################
	clothes_texture_index = 2
	icon = researcher	##################################################################
	possible_pre_triggers = {
		has_owner = yes
	}
	possible = {
		pop_group_has_trait = trait_touhou
	}
	resources = {
		category = planet_researchers
		upkeep = {
			sr_lingli = 1
			food = 1
		}
	}
	planet_modifier = {
		planet_amenities_add = -10
	}
	country_modifier = {
		ship_evasion_add = 10
		ship_tracking_add = 5
		ship_accuracy_add = 5
	}
	triggered_country_modifier = {
		potential = {
			owner = {
				has_ascension_perk = ap_toho2
			}
		}
		ship_evasion_add = 15
		ship_tracking_add = 10
		ship_accuracy_add = 10
	}
	triggered_country_modifier = {
		potential = {
			owner = {
				has_ascension_perk = ap_toho3
			}
		}
		ship_evasion_add = 15
		ship_tracking_add = 12
		ship_accuracy_add = 12
	}
	triggered_country_modifier = {
		potential = {
			owner = {
				has_ascension_perk = ap_toho4
			}
		}
		ship_evasion_add = 20
		ship_tracking_add = 18
		ship_accuracy_add = 18
	}
	weight = {
		weight = @specialist_job_weight
		modifier = {
			factor = 0.1
			has_citizenship_rights = no
			NOT = {
				pop_group_has_trait = trait_mechanical
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				pop_group_has_trait = trait_robot_domestic_protocols
				pop_group_has_trait = trait_charismatic
			}
		}
		modifier = {
			factor = 0.5
			pop_group_has_trait = trait_repugnant
		}
		modifier = {
			factor = 1.25
			OR = {
				pop_group_has_trait = trait_robot_propaganda_machines
				pop_group_has_trait = trait_traditional
			}
		}
		modifier = {
			factor = 0.75
			pop_group_has_trait = trait_quarrelsome
		}
		modifier = {
			factor = 5
			has_job = th_satori
		}
		modifier = {
			factor = 1.25
			pop_group_has_trait = trait_brainslug
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_presapient_natural_intellectuals
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_robust
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_necrophage
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_planet_class = pc_habitat
			}
		}
		modifier = {
			factor = 0.85
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_artificial = no
			}
		}
		# crisis purge
		modifier = {
			factor = 0.01
			exists = planet
			exists = planet.controller
			planet.controller = {
				OR = {
					is_country_type = swarm
					is_country_type = ai_empire
				}
			}
		}
	}
}

th_yamame = {
	category = worker
	possible_precalc = can_fill_worker_job
	condition_string = WORKER_JOB_TRIGGER
	clothes_texture_index = 3
	possible_pre_triggers = {
		has_owner = yes
	}
	possible = {
		pop_group_has_trait = trait_touhou
	}
	planet_modifier = {
		planet_building_build_speed_mult = +0.5
		planet_amenities_add = -10
	}
	triggered_planet_modifier = {
		potential = {
			owner = {
				has_ascension_perk = ap_toho2
			}
		}
		planet_amenities_add = -20
		planet_building_build_speed_mult = +0.8
	}
	triggered_planet_modifier = {
		potential = {
			owner = {
				has_ascension_perk = ap_toho4
			}
		}
		planet_amenities_add = -30
		planet_building_build_speed_mult = +1
	}
	resources = {
		category = planet_metallurgists
		upkeep = {
			sr_lingli = 3
			food = 3
		}
	}
	weight = {
		weight = 15
	}
}

kappa = {
	category = worker
	possible_precalc = can_fill_worker_job
	condition_string = WORKER_JOB_TRIGGER
	clothes_texture_index = 3
	possible_pre_triggers = {
		has_owner = yes
	}
	possible = {
		pop_group_has_trait = trait_touhou
	}
	resources = {
		category = planet_researchers
		produces = {
			engineering_research = 12
			physics_research = 12
		}
		produces = {
			trigger = {
				planet = {
					spth_is_gensokyo_city = yes
				}
			}
			engineering_research = 6
			physics_research = 6
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_toho2
				}
			}
			unity = 1
			physics_research = 6
			engineering_research = 6
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_toho4
				}
			}
			unity = 1
			minerals = 8
			energy = 8
			alloys = 8
			consumer_goods = 8
			physics_research = 10
			engineering_research = 10
			society_research = 10
		}
		upkeep = {
			food = 3
			consumer_goods = 1
		}
	}
	planet_modifier = {
		planet_jobs_food_produces_mult = 0.1
	}
	triggered_planet_modifier = {
		potential = {
			owner = {
				has_ascension_perk = ap_toho3
			}
		}
		planet_jobs_food_produces_mult = 0.2
	}
	triggered_planet_modifier = {
		potential = {
			owner = {
				has_ascension_perk = ap_toho4
			}
		}
		planet_jobs_food_produces_mult = 0.3
	}
	country_modifier = {
		all_technology_research_speed = 0.08
	}
	triggered_country_modifier = {
		potential = {
			owner = {
				has_ascension_perk = ap_toho3
			}
		}
		all_technology_research_speed = 0.12
	}
	triggered_country_modifier = {
		potential = {
			owner = {
				has_ascension_perk = ap_toho4
			}
		}
		all_technology_research_speed = 0.4
	}
	weight = {
		weight = 15
	}
}

th_marisa = {
	category = specialist
	possible_precalc = can_fill_specialist_job
	condition_string = SPECIALIST_JOB_TRIGGER
	#building_icon = building_hmg #######################################################
	clothes_texture_index = 2
	icon = magic
	possible_pre_triggers = {
		has_owner = yes
	}
	possible = {
		pop_group_has_trait = trait_touhou
	}
	resources = {
		category = planet_researchers
		produces = {
			sr_fuka = 2
			energy = 5
		}
		produces = {
			trigger = {
				planet = {
					spth_is_gensokyo_city = yes
				}
			}
			sr_fuka = 2
			energy = 5
		}
		produces = {
			trigger = {
				owner = {
					has_technology = "tech_specialist_0"
				}
			}
			unity = 1
			physics_research = 1
			engineering_research = 1
			society_research = 1
		}
		produces = {
			trigger = {
				owner = {
					has_valid_civic = civic_gensokyo
				}
			}
			unity = 1
			physics_research = 1
			engineering_research = 1
			society_research = 1
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_toho2
				}
			}
			unity = 1
			physics_research = 4
			energy = 7
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_toho4
				}
			}
			unity = 2
			energy = 20
			sr_fuka = 10
		}
		upkeep = {
			food = 1
			consumer_goods = 1
		}
	}
	country_modifier = {
		ship_fire_rate_mult = 0.2
	}
	weight = {
		weight = @specialist_job_weight
		modifier = {
			factor = 0.1
			has_citizenship_rights = no
			NOT = {
				pop_group_has_trait = trait_mechanical
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				pop_group_has_trait = trait_robot_domestic_protocols
				pop_group_has_trait = trait_charismatic
			}
		}
		modifier = {
			factor = 0.5
			pop_group_has_trait = trait_repugnant
		}
		modifier = {
			factor = 1.25
			OR = {
				pop_group_has_trait = trait_robot_propaganda_machines
				pop_group_has_trait = trait_traditional
			}
		}
		modifier = {
			factor = 0.75
			pop_group_has_trait = trait_quarrelsome
		}
		modifier = {
			factor = 5
			has_job = th_marisa
		}
		modifier = {
			factor = 1.25
			pop_group_has_trait = trait_brainslug
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_presapient_natural_intellectuals
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_robust
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_necrophage
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_planet_class = pc_habitat
			}
		}
		modifier = {
			factor = 0.85
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_artificial = no
			}
		}
		# crisis purge
		modifier = {
			factor = 0.01
			exists = planet
			exists = planet.controller
			planet.controller = {
				OR = {
					is_country_type = swarm
					is_country_type = ai_empire
				}
			}
		}
	}
}

th_akong = {
	category = specialist
	condition_string = SPECIALIST_JOB_TRIGGER
	possible_precalc = can_fill_specialist_job
	#building_icon = building_hmg #######################################################
	clothes_texture_index = 2
	icon = th_akong
	possible_pre_triggers = {
		has_owner = yes
	}
	possible = {
		pop_group_has_trait = trait_touhou
	}
	resources = {
		category = planet_metallurgists
		produces = {
			energy = 40
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_toho2
				}
			}
			energy = 5
		}
		produces = {
			trigger = {
				planet = {
					spth_is_gensokyo_city = yes
				}
			}
			energy = 40
		}
		produces = {
			trigger = {
				owner = {
					has_technology = "tech_specialist_0"
				}
			}
			unity = 1
			physics_research = 1
			engineering_research = 1
			society_research = 1
		}
		produces = {
			trigger = {
				owner = {
					has_valid_civic = civic_gensokyo
				}
			}
			unity = 1
			physics_research = 1
			engineering_research = 1
			society_research = 1
		}
		produces = {
			trigger = {
				owner = {
					has_ascension_perk = ap_toho4
				}
			}
			unity = 1
			minerals = 8
			energy = 8
			alloys = 8
			consumer_goods = 8
			physics_research = 10
			engineering_research = 10
			society_research = 10
		}
		upkeep = {
			sr_fuka = 1
			sr_lingli = 8
		}
		upkeep = {
			trigger = {
				owner = {
					has_ascension_perk = ap_toho4
				}
			}
			sr_lingli = 5
		}
	}
	weight = {
		weight = @specialist_job_weight
		modifier = {
			factor = 0.1
			has_citizenship_rights = no
			NOT = {
				pop_group_has_trait = trait_mechanical
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				pop_group_has_trait = trait_robot_domestic_protocols
				pop_group_has_trait = trait_charismatic
			}
		}
		modifier = {
			factor = 0.5
			pop_group_has_trait = trait_repugnant
		}
		modifier = {
			factor = 1.25
			OR = {
				pop_group_has_trait = trait_robot_propaganda_machines
				pop_group_has_trait = trait_traditional
			}
		}
		modifier = {
			factor = 0.75
			pop_group_has_trait = trait_quarrelsome
		}
		modifier = {
			factor = 5
			has_job = th_akong
		}
		modifier = {
			factor = 1.25
			pop_group_has_trait = trait_brainslug
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_presapient_natural_intellectuals
		}
		modifier = {
			factor = 1.125
			pop_group_has_trait = trait_robust
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_necrophage
		}
		modifier = {
			factor = 1.5
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_planet_class = pc_habitat
			}
		}
		modifier = {
			factor = 0.85
			pop_group_has_trait = trait_void_dweller_1
			exists = planet
			planet = {
				is_artificial = no
			}
		}
		# crisis purge
		modifier = {
			factor = 0.01
			exists = planet
			exists = planet.controller
			planet.controller = {
				OR = {
					is_country_type = swarm
					is_country_type = ai_empire
				}
			}
		}
	}
}
